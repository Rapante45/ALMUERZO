<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hola Gimena üíï</title>
  <style>
    :root{
      --bg1:#ffdde1;
      --bg2:#ee9ca7;
      --text:#5a2a2a;
      --yes:#ff6f91;
      --no:#d9d9d9;
      --card:#ffffff;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      text-align:center;
      color:var(--text);
      overflow:hidden;
      padding: 18px;
    }

    .card{
      width:min(420px, 100%);
      background: var(--card);
      padding: 26px 22px;
      border-radius: 22px;
      box-shadow: 0 14px 35px rgba(0,0,0,0.18);
      position:relative;
      animation: pop 420ms ease-out;
    }

    @keyframes pop{
      from{ transform: translateY(10px) scale(.98); opacity:0; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }

    h1{
      font-size: 20px;
      line-height: 1.35;
      margin: 0 0 14px;
    }

    .sub{
      font-size: 14px;
      opacity: .85;
      margin: 0 0 18px;
    }

    .btns{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    button{
      padding: 11px 18px;
      border: none;
      border-radius: 999px;
      font-size: 15px;
      cursor: pointer;
      transition: transform 0.15s, filter 0.15s;
      user-select:none;
    }
    button:hover{ transform: translateY(-1px) scale(1.03); filter: brightness(1.02); }
    button:active{ transform: scale(.98); }

    .yes{ background: var(--yes); color: white; }
    .no{ background: var(--no); color: #333; }

    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      margin-top: 12px;
      flex-wrap:wrap;
    }

    .mini{
      padding: 9px 14px;
      font-size: 13px;
      border-radius: 999px;
      background: rgba(255,255,255,.7);
      border: 1px solid rgba(0,0,0,.06);
      cursor:pointer;
    }

    .hidden{ display:none !important; }

    /* Corazones flotando */
    .heart{
      position:absolute;
      left: 50%;
      top: 110%;
      font-size: 16px;
      pointer-events:none;
      opacity: 0.9;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.1));
    }
    @keyframes floatUp{
      to{
        transform: translate(var(--dx), -120vh) rotate(var(--rot));
        opacity: 0;
      }
    }

    .footerNote{
      margin-top: 14px;
      font-size: 12px;
      opacity: .7;
    }
  </style>
</head>

<body>

  <div class="card" role="dialog" aria-live="polite">
    <h1 id="question">Beb√©, ¬øpodemos vernos esta semana , Almorzar juntos? üíï</h1>
    <p class="sub" id="subtext">Prometo que ser√° tranquilo, sin presi√≥n. </p>

    <div class="btns" id="btns">
      <button class="yes" id="btnYes">S√≠ üíñ</button>
      <button class="no" id="btnNo">No</button>
    </div>

    <div class="row">
      <button class="mini" id="musicBtn" aria-label="M√∫sica">üéµ M√∫sica: OFF</button>
      <button class="mini" id="muteBtn" aria-label="Silenciar" disabled>üîá</button>
    </div>

    <div class="footerNote">Me costo averiguar como poner una cancion , Espero te guste es con mucho cari√±o preciosa</div>
     <div class="footerNote">
  No s√© enamorar a lo loco‚Ä¶ pero lo haria  1,2,3,4, hasta n<sup>k</sup> ü§ç
</div>


    <!-- M√∫sica (pon√© tu mp3 en el mismo folder y nombralo "song.mp3") -->
    <audio id="bgm" preload="auto" loop>
      <source src="song.mp3" type="audio/mpeg">
    </audio>
  </div>

<script>
  let intentos = 0;
  const q = document.getElementById("question");
  const sub = document.getElementById("subtext");
  const btns = document.getElementById("btns");
  const btnYes = document.getElementById("btnYes");
  const btnNo = document.getElementById("btnNo");

  const bgm = document.getElementById("bgm");
  const musicBtn = document.getElementById("musicBtn");
  const muteBtn = document.getElementById("muteBtn");

  let musicOn = false;

  // üîî TU ENDPOINT DE FORMSPREE (PEG√Å EL TUYO AQU√ç)
  const FORM_ENDPOINT = "https://formspree.io/f/mdagrebw";

  async function toggleMusic(){
    try{
      if(!musicOn){
        bgm.volume = 0.35;
        await bgm.play();
        musicOn = true;
        musicBtn.textContent = "üéµ M√∫sica: ON";
        muteBtn.disabled = false;
      }else{
        bgm.pause();
        musicOn = false;
        musicBtn.textContent = "üéµ M√∫sica: OFF";
      }
    }catch(e){
      musicBtn.textContent = "üéµ M√∫sica: (no disponible)";
    }
  }

  function toggleMute(){
    bgm.muted = !bgm.muted;
    muteBtn.textContent = bgm.muted ? "üîä" : "üîá";
  }

  musicBtn.addEventListener("click", toggleMusic);
  muteBtn.addEventListener("click", toggleMute);

  function lanzarCorazones(){
    for(let i=0; i<18; i++){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = Math.random() > 0.5 ? "üíñ" : "üíó";
      const dx = (Math.random()*260 - 130).toFixed(0) + "px";
      const rot = (Math.random()*120 - 60).toFixed(0) + "deg";
      const dur = (Math.random()*1.8 + 2.2).toFixed(2) + "s";
      const size = (Math.random()*14 + 12).toFixed(0) + "px";
      h.style.setProperty("--dx", dx);
      h.style.setProperty("--rot", rot);
      h.style.animationDuration = dur;
      h.style.fontSize = size;
      h.style.left = (Math.random()*100).toFixed(1) + "%";
      document.body.appendChild(h);

      setTimeout(()=> h.remove(), (parseFloat(dur)*1000)+200);
    }
  }

  function ocultarBotones(){
    btns.classList.add("hidden");
  }

  // ‚úÖ Notificaci√≥n a tu correo SOLO cuando presiona "S√≠"
  async function notificarSi(){
    try{
      await fetch(FORM_ENDPOINT, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          respuesta: "Presion√≥ S√ç üíñ",
          fecha: new Date().toLocaleString(),
          pagina: window.location.href,
          navegador: navigator.userAgent
        })
      });
    }catch(err){
      // No hacemos nada para que no se note si falla
      console.log("No se pudo notificar:", err);
    }
  }

  btnYes.addEventListener("click", async () => {
    // M√∫sica
    if(!musicOn) await toggleMusic();

    // üîî Notificar
    notificarSi(); // <- no la hacemos await para que sea instant√°neo

    // Tu mensaje
    q.innerHTML = "Gracias por darme la oportunidad üíï<br>¬øme puedes responder por whatsapp si te gust√≥ la canci√≥n que eleg√≠?";
    sub.textContent = "Te quiero mucho coraz√≥n...";
    ocultarBotones();
    lanzarCorazones();
  });

  btnNo.addEventListener("click", () => {
    intentos++;

    if (intentos === 1) {
      q.innerHTML = "¬øSegura? ";
      sub.textContent = "Prometo que no ser√° inc√≥modo.";
    } else if (intentos === 2) {
      q.innerHTML = "Ok, √∫ltima y ya no molesto ";
      sub.textContent = "Te tengo presente siempre, Gimena.";
    } else {
      q.innerHTML = "Est√° bien‚Ä¶ gracias por leer esto. üíó";
      sub.innerHTML = "Si alg√∫n d√≠a te nace, aqu√≠ estoy.<br><br><b>Cu√≠date mucho.</b>";
      ocultarBotones();
    }
  });

  // Opcional: iniciar m√∫sica con el primer clic en cualquier lado:
  // document.addEventListener("click", () => { if(!musicOn) toggleMusic(); }, { once:true });
</script>


</body>
</html>





